[来源](https://github.com/songxinjianqwe/Chat)
## 设计功能
1. 当前登陆的用户可以查看当前所有登陆的用户列表。然后选择其中用户发送消息。接收者不存在或已下线时将无法发送，并提示：接收者不存在或已下线
2. 用户收到其他人发送的消息时会提醒。因此这里有一个监听。

## 服务端
1. 维护所有登陆用户信息：登陆下线，服务端需要处理。用户已上线时这种通知也需要。
2. MessageHandler抽象类，里面有个重要方法broadcast。
3. 服务端代码参考ChatServer.java

## 客户端
1. 他直接来一个客户端继承了frame，我这里就是前端网页吧。然后登陆时就是连接服务器。

## 问题：
1. 还不清楚他的HTTP这个包的用途，task包应该核心？

## 编码过程：
1. 写服务端。这个服务端工程新建，不与原先工程在一起。客户端就在原先的工程中吧。
   - 服务器需要监听是否有客户端连接。即ListenerThread
     - 然后需要处理客户端的连接请求，handleAcceptRequest
     - 需要处理客户端发送的数据。即ReadEventHandler
     
2. 客户端。这个工程直接在user类中写。
   - 初始化客户端的socket数据。
     - 登录，作为浏览器登录的附属品。除了网站的登录cookie，也作为服务器的登录附加。
     - 退出
   - 发送数据。这里为了数据统一管理，将发送的数据作为message，而消息又分为消息体跟消息头。
     - 这里源码用的lombok的注解Builder，我选择直接使用链式建造者模式来编码。
   - 接受数据。同样为了管理数据，将接受的数据作为ChatResponse，即来自服务器的回应。
3. 依赖（没处理好，主工程即原先的tmall）
   - 常见工具放入common工程
   - server工程依赖主工程的user
   - server跟主工程都依赖common
